{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://debrief.org/schemas/EditorState.json",
  "title": "EditorState", 
  "description": "Aggregated state for a Debrief editor instance containing all sub-state types",
  "type": "object",
  "properties": {
    "featureCollection": {
      "$ref": "../features/FeatureCollection.schema.json",
      "description": "The GeoJSON FeatureCollection data"
    },
    "timeState": {
      "$ref": "./TimeState.schema.json",
      "description": "Current time position state"
    },
    "viewportState": {
      "$ref": "./ViewportState.schema.json", 
      "description": "Current map viewport bounds state"
    },
    "selectionState": {
      "$ref": "./SelectionState.schema.json",
      "description": "Current feature selection state"
    }
  },
  "required": [],
  "additionalProperties": false,
  "examples": [
    {
      "featureCollection": {
        "type": "FeatureCollection",
        "features": []
      },
      "timeState": {
        "current": "2025-09-03T12:00:00Z"
      },
      "viewportState": {
        "bounds": [-10.0, 50.0, 2.0, 58.0]
      },
      "selectionState": {
        "selectedIds": ["track-001", "point-123"]
      }
    }
  ]
}